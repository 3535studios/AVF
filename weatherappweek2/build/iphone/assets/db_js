var save=function(e){console.log(save);var i=Ti.Database.open("weatherdb");i.execute("CREATE TABLE IF NOT EXISTS weatherTbl (id INTEGER PRIMARY KEY, city TEXT, temp_f INTEGER, weather TEXT, relative_humidity TEXT, wind_mph TEXT, feelslike_f TEXT, wind_dir TEXT, wind_gust_mph TEXT, wind_degrees TEXT, visibility_mi TEXT, pressure_in TEXT, dewpoint_f TEXT, windchill_f TEXT, precip_today_in TEXT, heat_index_f TEXT)"),i.execute("INSERT INTO weatherTbl (city, temp_f, weather, relative_humidity, wind_mph, feelslike_f, wind_dir, wind_gust_mph, wind_degrees, visibility_mi, pressure_in, dewpoint_f, windchill_f, precip_today_in, heat_index_f) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",e.city,e.temp,e.weather,e.humidity,e.wind,e.feelslike,e.wind_dir,e.wind_gust_mph,e.wind_degrees,e.visibility,e.pressure,e.dewpoint,e.windchill,e.rain,e.heat_index),i.close(),read()};exports.save=save;var read=function(){console.log(read);var e=Ti.Database.open("weatherdb");e.execute("CREATE TABLE IF NOT EXISTS weatherTbl (id INTEGER PRIMARY KEY, city TEXT, temp_f INTEGER, weather TEXT, relative_humidity TEXT, wind_mph TEXT, feelslike_f TEXT, wind_dir TEXT, wind_gust_mph TEXT, wind_degrees TEXT, visibility_mi TEXT, pressure_in TEXT, dewpoint_f TEXT, windchill_f TEXT, precip_today_in TEXT, heat_index_f TEXT)");var i=e.execute("SELECT city, temp_f, weather, relative_humidity, wind_mph, feelslike_f, wind_dir, wind_gust_mph, wind_degrees, visibility_mi, pressure_in, dewpoint_f, windchill_f, precip_today_in, heat_index_f FROM weatherTbl");if(i.rowCount>0){for(var r=[];i.isValidRow();){var t={city:i.fieldByName("city"),temp:i.fieldByName("temp_f"),weather:i.fieldByName("weather"),humidity:i.fieldByName("relative_humidity"),wind:i.fieldByName("wind_mph"),feelslike:i.fieldByName("feelslike_f"),wind_dir:i.fieldByName("wind_dir"),wind_gust:i.fieldByName("wind_gust_mph"),wind_degrees:i.fieldByName("wind_degrees"),visibility:i.fieldByName("visibility_mi"),pressure:i.fieldByName("pressure_in"),dewpoint:i.fieldByName("dewpoint_f"),windchill:i.fieldByName("windchill_f"),rain:i.fieldByName("precip_today_in"),heat_index:i.fieldByName("heat_index_f")};r.push(t),i.next()}var n=require("ui");n.buildUI(r)}i.close(),e.close()};exports.read=read;var cleandb=function(){var e=Ti.Database.open("weatherdb");e.execute("DROP TABLE IF EXISTS weatherTbl"),e.close()};exports.cleandb=cleandb;